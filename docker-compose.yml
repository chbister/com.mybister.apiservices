services:
  asr:
    build:
      context: ./asr-service
    expose:
      - "8000"
    environment:
      ASR_MODEL_SIZE: "small"
      ASR_COMPUTE_TYPE: "int8"
    restart: unless-stopped
    # Optional: Cache-Volume f√ºr HF/Modelle, damit Neustarts schneller sind
    volumes:
      - hf_cache:/root/.cache
    networks:
      - proxy-network

  sentiment:
    build:
      context: ./sentiment-service
    expose:
      - "8000"
    environment:
      SENTIMENT_MODEL_ID: "cardiffnlp/twitter-xlm-roberta-base-sentiment"
    restart: unless-stopped
    volumes:
      - hf_cache:/root/.cache
    networks:
      - proxy-network

volumes:
  hf_cache:
networks:
  proxy-network:
    external: true
